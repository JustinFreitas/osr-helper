{"name":"OSE-helper Eat Ration","type":"script","author":"vPaWjEllnIBmwocU","img":"icons/consumables/food/cooked-chicken-turkey-leg-brown.webp","scope":"global","command":"async function main(){\n    if(singleSelected()){\n        const token = canvas.tokens.controlled[0];\n        const actorId = token.actor.id;\n        oseEat(actorId)\n    }\n}\nmain()","folder":null,"sort":0,"permission":{"default":0,"vPaWjEllnIBmwocU":3},"flags":{"core":{"sourceId":"Macro.Z4xChoplpzx1otOg"},"scene-packer":{"sourceId":"Macro.Z4xChoplpzx1otOg"}},"_id":"FHKDKWyqXvIbcBvj"}
{"name":"Party List to Chat","type":"script","author":"NT17Yev2GH6B5ZtS","img":"icons/magic/symbols/squares-3d-green.webp","scope":"global","command":"async function main(){\n    let retainer = false\n    let  partyList = ``;\n    let retainerList = ``;\n   let actors =  game.actors.filter((a)=> a.data.flags?.ose?.party)\n      \n   for(let actor of actors){\n   \n    if(actor.data.data.retainer.enabled){\n           \n           retainerList += `<div style=\"padding: 0 10px 10px 0\">@Actor[${actor.data.name}]{${actor.data.name}}</div>`;\n           retainer = true\n           \n    }else{\n       \n        partyList += `<div style=\"padding: 0 10px 10px 0\">@Actor[${actor.data.name}]{${actor.data.name}}</div>`;\n        \n       }\n   }\n   if(retainer){\n       retainerList = `<h3>Retainer List<h3>\n       <div style=\"display: flex; flex-wrap: wrap;\">\n        ${retainerList}\n       </div>\n       `\n   }\n   let msgContent = `\n   <h3>Party List</h3>\n   <div style=\"display: flex; flex-wrap: wrap;\">\n   ${partyList}\n   </div>\n   \n    ${retainerList}\n   \n   `\n   \n   ChatMessage.create({content: msgContent,\n       whisper: [game.user]\n   })\n}\nmain()","folder":null,"sort":0,"permission":{"default":0,"NT17Yev2GH6B5ZtS":3},"flags":{"core":{"sourceId":"Macro.rYoXpmVbu8NtT6gQ"}},"_id":"Ff5ctuJxejCSxv66"}
{"_id":"OlLRxeOx5CPzTKsB","name":"OSE-helper Reset All Turns","type":"script","author":"n1BQHHTQHmN9zoux","img":"icons/magic/time/clock-spinning-gold-pink.webp","scope":"global","command":"OSEH.turn.resetAllCounts()","folder":null,"sort":0,"permission":{"default":0,"n1BQHHTQHmN9zoux":3},"flags":{"core":{"sourceId":"Macro.CfIcTKrNDrY0Ol2p"},"scene-packer":{"sourceId":"Macro.sQ7LDiIxv8cULPlE"}}}
{"name":"Startup Char Sheet Gen","type":"script","author":"BzSbqcFtJqpEEdQi","img":"icons/magic/symbols/squares-3d-green.webp","scope":"global","command":"async function main() {\n  const characterCount = 3;\n  let playerFolder = await Folder.create({\n    name: 'Player Characters',\n    color: '#a93ed0',\n    type: 'Actor',\n    parent: null\n  });\n\n  const folderId = playerFolder.id;\n  //console.log(playerFolder, folderId);\n  const users = game.users.map((user) => [user.id, user.name]);\n  //console.log('users',users)\n//loop through users excluding gm\n  for (let i = 1; i < users.length; i++) {\n    //create number of actor sheets defined by characterCount  \n    for (let num = 1; num <= characterCount; num++) {\n      const data = {\n        name: `${users[i][1]} - 0${num}`,\n        type: 'character',\n        permission: {},\n        folder: folderId\n      };\n      data.permission[users[i][0]] = 3;\n      //console.log(data, users[num], characterCount)\n      let actor = await Actor.create(data);\n      if(num == 1){\n          const user = game.users.getName(users[i][1])\n          console.log('pre',user)\n          user.update({ character : actor.id });\n          console.log('post',user)\n          \n      }\n    }\n  }\n}\n\nmain();","folder":null,"sort":0,"permission":{"default":0,"BzSbqcFtJqpEEdQi":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.U19n8c23G62tw4IL"}},"_id":"RejJjU0oo5c8ZMZo"}
{"_id":"Sb0bRi6gTxNFa2dn","name":"OSE-helper Clear Gm Light Flag","type":"script","author":"LaQqaISHuoPZ1q7F","img":"icons/magic/symbols/runes-carved-stone-yellow.webp","scope":"global","command":"async function main (){\n    const data = {\n     user: game.user,\n     scope: 'OSE-helper',\n     flagname: 'lightData',\n     reset: true\n     };\n    OSEH.util.oseClearUserFlag(data)\n}\nmain();","folder":null,"sort":0,"permission":{"default":0,"LaQqaISHuoPZ1q7F":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.LeNSRtSi41LyI6qV"},"scene-packer":{"sourceId":"Macro.LeNSRtSi41LyI6qV"}}}
{"_id":"SfquIWnCai3oRvWQ","name":"OSE-helper Reset Session Count","type":"chat","author":"n1BQHHTQHmN9zoux","img":"icons/magic/time/arrows-circling-pink.webp","scope":"global","command":"OSEH.turn.resetSessionCount()","folder":null,"sort":0,"permission":{"default":0,"n1BQHHTQHmN9zoux":3},"flags":{"core":{"sourceId":"Macro.lfdbji0acIXBjDr6"},"scene-packer":{"sourceId":"Macro.aL0DwNgzRHj7WVnm"}}}
{"_id":"Tf8G11Qqu424Xhca","name":"OSE-helper Light Turns Remaining","type":"script","author":"n1BQHHTQHmN9zoux","img":"icons/sundries/lights/candle-pillar-lit-yellow.webp","scope":"global","command":"if(OSEH.util.singleSelected()){\n    const id = canvas.tokens.controlled[0].actor.id;\n    OSEH.turn.lightTurnRemaining(id);\n}","folder":null,"sort":0,"permission":{"default":0,"n1BQHHTQHmN9zoux":3},"flags":{"core":{"sourceId":"Macro.PVegQRCgfdX3pi30"},"scene-packer":{"sourceId":"Macro.v86v5ZK292wtA0uC"}}}
{"_id":"cimw97jOw2Dt2msw","name":"OSE-helper Actor Item Report","type":"script","author":"vPaWjEllnIBmwocU","img":"icons/sundries/scrolls/scroll-runed-worn-tan.webp","scope":"global","command":"async function main(){\n    if(OSEH.util.singleSelected()){\n        const data = {\n            token:canvas.tokens.controlled[0],\n            actorName: token.actor.name\n        }\n        // const token = canvas.tokens.controlled[0];\n        // const actorName = token.actor.name;\n        oseActorReport(data)\n    }\n}\nmain()","folder":null,"sort":0,"permission":{"default":0,"vPaWjEllnIBmwocU":3},"flags":{"core":{"sourceId":"Macro.NCcQElfwngqV4JRu"},"scene-packer":{"sourceId":"Macro.NCcQElfwngqV4JRu"}}}
{"_id":"dKvpkXF33VsBRESD","name":"OSE-helper Light On","type":"script","author":"vPaWjEllnIBmwocU","img":"icons/sundries/lights/candle-unlit-grey.webp","scope":"global","command":"async function main(){\n    if(OSEH.util.singleSelected()){\n        const token = canvas.tokens.controlled[0];\n        const actorId = token.actor.id;\n        OSEH.light.lightOn(actorId)\n    }\n}\nmain()","folder":null,"sort":0,"permission":{"default":0,"vPaWjEllnIBmwocU":3},"flags":{"core":{"sourceId":"Macro.rVAi5ghG8a1QpdYj"},"scene-packer":{"sourceId":"Macro.rVAi5ghG8a1QpdYj"}}}
{"_id":"ep96hRk4NLPBVdVG","name":"OSE-helper Dungeon Turn (Base)","type":"script","author":"n1BQHHTQHmN9zoux","img":"icons/magic/time/clock-stopwatch-white-blue.webp","scope":"global","command":"const data = {\n    proc: 0, //number: how often in turns to roll for random encounter\n    rollTarget: 2,//number to roll under to trigger a table roll\n    tableName: 'insert table name here',//name of random encounter table to use\n    reactTable: 'insert table name here',//name of reaction table to use\n    reactRoll: false,//true: will roll reaction table, false: no roll,\n    tableRoll: false////true: will roll encounter table, false: no roll,\n}\nOSEH.turn.dungeonTurn(data)","folder":null,"sort":0,"permission":{"default":0,"n1BQHHTQHmN9zoux":3},"flags":{"core":{"sourceId":"Macro.wDVgHVru37u9mJ1c"},"scene-packer":{"sourceId":"Macro.sjYBTE1JlxaUW4vf","hash":"d27a2582321e1e4a3ab82d62be454ef52916cc58"}}}
{"_id":"jtQRu2w5iMDDRKx5","name":"OSE-helper Show Turn Counts","type":"script","author":"n1BQHHTQHmN9zoux","img":"icons/sundries/books/book-embossed-jewel-gold-green.webp","scope":"global","command":"OSEH.turn.showTurnCount()","folder":null,"sort":0,"permission":{"default":0,"n1BQHHTQHmN9zoux":3},"flags":{"core":{"sourceId":"Macro.IS40n4pHhzbg1JoH"},"scene-packer":{"sourceId":"Macro.TLJpirCVTS1Nsuxq"}}}
{"_id":"s9xoWH5JO44NtvG4","name":"OSE-helper Rest","type":"script","author":"n1BQHHTQHmN9zoux","img":"icons/environment/wilderness/camp-improvised.webp","scope":"global","command":"OSEH.turn.rest()","folder":null,"sort":0,"permission":{"default":0,"n1BQHHTQHmN9zoux":3},"flags":{"core":{"sourceId":"Macro.rz3TquH2OedSaaYL"},"scene-packer":{"sourceId":"Macro.LNyYXpabX0WPPUNN"}}}
{"name":"OSE-helper Ration Report","type":"script","author":"LaQqaISHuoPZ1q7F","img":"icons/sundries/scrolls/scroll-writing-beige.webp","scope":"global","command":"const data = {\n    character:[], //array of character names to check\n    retainer: []  //array of retainers to check\n}\noseRationReport(data, false)","folder":null,"sort":0,"permission":{"default":0,"LaQqaISHuoPZ1q7F":3},"flags":{"core":{"sourceId":"Macro.c7ajeBoKjR5R270a"},"scene-packer":{"sourceId":"Macro.NWUar6ZRREIOIygM"}},"_id":"w7hN44Cs8JTHPL7t"}
{"_id":"cimw97jOw2Dt2msw","name":"OSE-helper Actor Item Report","type":"script","author":"vPaWjEllnIBmwocU","img":"icons/sundries/scrolls/scroll-runed-worn-tan.webp","scope":"global","command":"async function main(){\n    if(OSEH.util.singleSelected()){\n        const data = {\n            token:canvas.tokens.controlled[0],\n            actorName: token.actor.name\n        }\n        OSEH.ration.actorReport(data)\n    }\n}\nmain()","folder":null,"sort":0,"permission":{"default":0,"vPaWjEllnIBmwocU":3},"flags":{"core":{"sourceId":"Macro.NCcQElfwngqV4JRu"},"scene-packer":{"sourceId":"Macro.NCcQElfwngqV4JRu"}}}
{"_id":"FHKDKWyqXvIbcBvj","name":"OSE-helper Eat Ration","type":"script","author":"vPaWjEllnIBmwocU","img":"icons/consumables/food/cooked-chicken-turkey-leg-brown.webp","scope":"global","command":"async function main(){\n    if(OSEH.util.singleSelected()){\n        const token = canvas.tokens.controlled[0];\n        const actorId = token.actor.id;\n        OSEH.ration.eat(actorId)\n    }\n}\nmain()","folder":null,"sort":0,"permission":{"default":0,"vPaWjEllnIBmwocU":3},"flags":{"core":{"sourceId":"Macro.Z4xChoplpzx1otOg"},"scene-packer":{"sourceId":"Macro.Z4xChoplpzx1otOg"}}}
{"_id":"w7hN44Cs8JTHPL7t","name":"OSE-helper Ration Report","type":"script","author":"LaQqaISHuoPZ1q7F","img":"icons/sundries/scrolls/scroll-writing-beige.webp","scope":"global","command":"const data = {\n    character:[], //array of character names to check\n    retainer: []  //array of retainers to check\n}\nOSEH.ration.rationReport(data, false)","folder":null,"sort":0,"permission":{"default":0,"LaQqaISHuoPZ1q7F":3},"flags":{"core":{"sourceId":"Macro.c7ajeBoKjR5R270a"},"scene-packer":{"sourceId":"Macro.NWUar6ZRREIOIygM"}}}
